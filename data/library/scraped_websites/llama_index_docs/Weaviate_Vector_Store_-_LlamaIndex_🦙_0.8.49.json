{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/examples/vector_stores/WeaviateIndexDemo.html",
        "title": "Weaviate Vector Store - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## Weaviate Vector Store[\uf0c1](#weaviate-vector-store \"Permalink to this heading\")\n\n## Creating a Weaviate Client[\uf0c1](#creating-a-weaviate-client \"Permalink to this heading\")\n\nimport os\nimport openai\n\nos.environ\\[\"OPENAI\\_API\\_KEY\"\\] \\= \"YOUR\\_API\\_KEY\\_HERE\"\nopenai.api\\_key \\= os.environ\\[\"OPENAI\\_API\\_KEY\"\\]\n\nimport logging\nimport sys\n\nlogging.basicConfig(stream\\=sys.stdout, level\\=logging.INFO)\nlogging.getLogger().addHandler(logging.StreamHandler(stream\\=sys.stdout))\n\n\\# cloud\nresource\\_owner\\_config \\= weaviate.AuthClientPassword(\n    username\\=\"<username>\",\n    password\\=\"<password>\",\n)\nclient \\= weaviate.Client(\n    \"https://llama-test-ezjahb4m.weaviate.network\",\n    auth\\_client\\_secret\\=resource\\_owner\\_config,\n)\n\n\\# local\n\\# client = weaviate.Client(\"http://localhost:8080\")\n\n## Load documents, build the VectorStoreIndex[\uf0c1](#load-documents-build-the-vectorstoreindex \"Permalink to this heading\")\n\nfrom llama\\_index import VectorStoreIndex, SimpleDirectoryReader\nfrom llama\\_index.vector\\_stores import WeaviateVectorStore\nfrom IPython.display import Markdown, display\n\nINFO:numexpr.utils:Note: NumExpr detected 12 cores but \"NUMEXPR\\_MAX\\_THREADS\" not set, so enforcing safe limit of 8.\nNote: NumExpr detected 12 cores but \"NUMEXPR\\_MAX\\_THREADS\" not set, so enforcing safe limit of 8.\nINFO:numexpr.utils:NumExpr defaulting to 8 threads.\nNumExpr defaulting to 8 threads.\n\n\\# load documents\ndocuments \\= SimpleDirectoryReader(\"../data/paul\\_graham\").load\\_data()\n\nfrom llama\\_index.storage.storage\\_context import StorageContext\n\n\\# If you want to load the index later, be sure to give it a name!\nvector\\_store \\= WeaviateVectorStore(\n    weaviate\\_client\\=client, index\\_name\\=\"LlamaIndex\"\n)\nstorage\\_context \\= StorageContext.from\\_defaults(vector\\_store\\=vector\\_store)\nindex \\= VectorStoreIndex.from\\_documents(\n    documents, storage\\_context\\=storage\\_context\n)\n\n\\# NOTE: you may also choose to define a index\\_name manually.\n\\# index\\_name = \"test\\_prefix\"\n\\# vector\\_store = WeaviateVectorStore(weaviate\\_client=client, index\\_name=index\\_name)\n\n## Query Index[\uf0c1](#query-index \"Permalink to this heading\")\n\n\\# set Logging to DEBUG for more detailed outputs\nquery\\_engine \\= index.as\\_query\\_engine()\nresponse \\= query\\_engine.query(\"What did the author do growing up?\")\n\ndisplay(Markdown(f\"<b>{response}</b>\"))\n\n**Growing up, the author wrote short stories, experimented with programming on an IBM 1401, nagged his father to buy a TRS-80 computer, wrote simple games, a program to predict how high his model rockets would fly, and a word processor. He also studied philosophy in college, switched to AI, and worked on building the infrastructure of the web. He wrote essays and published them online, had dinners for a group of friends every Thursday night, painted, and bought a building in Cambridge.**\n\n## Loading the index[\uf0c1](#loading-the-index \"Permalink to this heading\")\n\nHere, we use the same index name as when we created the initial index. This stops it from being auto-generated and allows us to easily connect back to it.\n\nresource\\_owner\\_config \\= weaviate.AuthClientPassword(\n    username\\=\"<username>\",\n    password\\=\"<password>\",\n)\nclient \\= weaviate.Client(\n    \"https://llama-test-ezjahb4m.weaviate.network\",\n    auth\\_client\\_secret\\=resource\\_owner\\_config,\n)\n\n\\# local\n\\# client = weaviate.Client(\"http://localhost:8080\")\n\nvector\\_store \\= WeaviateVectorStore(\n    weaviate\\_client\\=client, index\\_name\\=\"LlamaIndex\"\n)\n\nloaded\\_index \\= VectorStoreIndex.from\\_vector\\_store(vector\\_store)\n\n\\# set Logging to DEBUG for more detailed outputs\nquery\\_engine \\= loaded\\_index.as\\_query\\_engine()\nresponse \\= query\\_engine.query(\"What happened at interleaf?\")\ndisplay(Markdown(f\"<b>{response}</b>\"))\n\n**At Interleaf, a group of people worked on projects for customers. One of the employees told the narrator about a new thing called HTML, which was a derivative of SGML. The narrator left Interleaf to go back to RISD and did freelance work for the group that did projects for customers. Later, the narrator and a college friend started a new company called Viaweb, which was a web app that allowed users to build stores through the browser. They got seed funding and recruited two programmers to help them build the software. They opened for business in January 1996 with 6 stores.**"
}