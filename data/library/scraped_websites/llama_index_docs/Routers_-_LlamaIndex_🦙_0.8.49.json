{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/core_modules/query_modules/router/root.html",
        "title": "Routers - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## Routers[\uf0c1](#routers \"Permalink to this heading\")\n\n## Concept[\uf0c1](#concept \"Permalink to this heading\")\n\nRouters are modules that take in a user query and a set of \u201cchoices\u201d (defined by metadata), and returns one or more selected choices.\n\nThey can be used on their own (as \u201cselector modules\u201d), or used as a query engine or retriever (e.g. on top of other query engines/retrievers).\n\nThey are simple but powerful modules that use LLMs for decision making capabilities. They can be used for the following use cases and more:\n\n*   Selecting the right data source among a diverse range of data sources\n    \n*   Deciding whether to do summarization (e.g. using summary index query engine) or semantic search (e.g. using vector index query engine)\n    \n*   Deciding whether to \u201ctry\u201d out a bunch of choices at once and combine the results (using multi-routing capabilities).\n    \n\nThe core router modules exist in the following forms:\n\n*   LLM selectors put the choices as a text dump into a prompt and use LLM text completion endpoint to make decisions\n    \n*   Pydantic selectors pass choices as Pydantic schemas into a function calling endpoint, and return Pydantic objects\n    \n\n## Usage Pattern[\uf0c1](#usage-pattern \"Permalink to this heading\")\n\nA simple example of using our router module as part of a query engine is given below.\n\nfrom llama\\_index.query\\_engine.router\\_query\\_engine import RouterQueryEngine\nfrom llama\\_index.selectors.pydantic\\_selectors import PydanticSingleSelector\nfrom llama\\_index.tools.query\\_engine import QueryEngineTool\n\nlist\\_tool \\= QueryEngineTool.from\\_defaults(\n    query\\_engine\\=list\\_query\\_engine,\n    description\\=\"Useful for summarization questions related to the data source\",\n)\nvector\\_tool \\= QueryEngineTool.from\\_defaults(\n    query\\_engine\\=vector\\_query\\_engine,\n    description\\=\"Useful for retrieving specific context related to the data source\",\n)\n\nquery\\_engine \\= RouterQueryEngine(\n    selector\\=PydanticSingleSelector.from\\_defaults(),\n    query\\_engine\\_tools\\=\\[\n        list\\_tool,\n        vector\\_tool,\n    \\],\n)\nquery\\_engine.query(\"<query>\")\n\nYou can find more details using routers as standalone modules, as part of a query engine, and as part of a retriever below in the usage pattern guide.\n\n*   [Usage Pattern](https://docs.llamaindex.ai/en/stable/core_modules/query_modules/router/usage_pattern.html)\n    *   [Defining a selector](https://docs.llamaindex.ai/en/stable/core_modules/query_modules/router/usage_pattern.html#defining-a-selector)\n    *   [Using as a Query Engine](https://docs.llamaindex.ai/en/stable/core_modules/query_modules/router/usage_pattern.html#using-as-a-query-engine)\n    *   [Using as a Retriever](https://docs.llamaindex.ai/en/stable/core_modules/query_modules/router/usage_pattern.html#using-as-a-retriever)\n    *   [Using selector as a standalone module](https://docs.llamaindex.ai/en/stable/core_modules/query_modules/router/usage_pattern.html#using-selector-as-a-standalone-module)\n\n## Modules[\uf0c1](#modules \"Permalink to this heading\")\n\nBelow you can find extensive guides using routers in different settings.\n\n*   [Modules](https://docs.llamaindex.ai/en/stable/core_modules/query_modules/router/modules.html)\n    *   [Router Query Engine](https://docs.llamaindex.ai/en/stable/examples/query_engine/RouterQueryEngine.html)\n    *   [Retriever Router Query Engine](https://docs.llamaindex.ai/en/stable/examples/query_engine/RetrieverRouterQueryEngine.html)\n    *   [SQL Router Query Engine](https://docs.llamaindex.ai/en/stable/examples/query_engine/SQLRouterQueryEngine.html)\n    *   [Router Retriever](https://docs.llamaindex.ai/en/stable/examples/retrievers/router_retriever.html)"
}