{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/api_reference/query/query_engines/router_query_engine.html",
        "title": "Router Query Engine - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## Router Query Engine[\uf0c1](#module-llama_index.query_engine.router_query_engine \"Permalink to this heading\")\n\n_class_ llama\\_index.query\\_engine.router\\_query\\_engine.RetrieverRouterQueryEngine(_retriever: [BaseRetriever](https://docs.llamaindex.ai/en/stable/api_reference/query/retrievers.html#llama_index.indices.base_retriever.BaseRetriever \"llama_index.indices.base_retriever.BaseRetriever\")_, _node\\_to\\_query\\_engine\\_fn: Callable_, _callback\\_manager: Optional\\[[CallbackManager](https://docs.llamaindex.ai/en/stable/api_reference/callbacks.html#llama_index.callbacks.CallbackManager \"llama_index.callbacks.base.CallbackManager\")\\] \\= None_)[\uf0c1](#llama_index.query_engine.router_query_engine.RetrieverRouterQueryEngine \"Permalink to this definition\")\n\nRetriever-based router query engine.\n\nNOTE: this is deprecated, please use our new ToolRetrieverRouterQueryEngine\n\nUse a retriever to select a set of Nodes. Each node will be converted into a ToolMetadata object, and also used to retrieve a query engine, to form a QueryEngineTool.\n\nNOTE: this is a beta feature. We are figuring out the right interface between the retriever and query engine.\n\nParameters\n\n*   **selector** (_BaseSelector_) \u2013 A selector that chooses one out of many options based on each candidate\u2019s metadata and query.\n    \n*   **query\\_engine\\_tools** (_Sequence__\\[__QueryEngineTool__\\]_) \u2013 A sequence of candidate query engines. They must be wrapped as tools to expose metadata to the selector.\n    \n*   **callback\\_manager** (_Optional__\\[_[_CallbackManager_](https://docs.llamaindex.ai/en/stable/api_reference/callbacks.html#llama_index.callbacks.CallbackManager \"llama_index.callbacks.CallbackManager\")_\\]_) \u2013 A callback manager.\n    \n\n_class_ llama\\_index.query\\_engine.router\\_query\\_engine.RouterQueryEngine(_selector: BaseSelector_, _query\\_engine\\_tools: Sequence\\[QueryEngineTool\\]_, _service\\_context: Optional\\[[ServiceContext](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")\\] \\= None_, _summarizer: Optional\\[[TreeSummarize](https://docs.llamaindex.ai/en/stable/api_reference/query/response_synthesizer.html#llama_index.response_synthesizers.TreeSummarize \"llama_index.response_synthesizers.tree_summarize.TreeSummarize\")\\] \\= None_)[\uf0c1](#llama_index.query_engine.router_query_engine.RouterQueryEngine \"Permalink to this definition\")\n\nRouter query engine.\n\nSelects one out of several candidate query engines to execute a query.\n\nParameters\n\n*   **selector** (_BaseSelector_) \u2013 A selector that chooses one out of many options based on each candidate\u2019s metadata and query.\n    \n*   **query\\_engine\\_tools** (_Sequence__\\[__QueryEngineTool__\\]_) \u2013 A sequence of candidate query engines. They must be wrapped as tools to expose metadata to the selector.\n    \n*   **service\\_context** (_Optional__\\[_[_ServiceContext_](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")_\\]_) \u2013 A service context.\n    \n*   **summarizer** (_Optional__\\[_[_TreeSummarize_](https://docs.llamaindex.ai/en/stable/api_reference/query/response_synthesizer.html#llama_index.response_synthesizers.TreeSummarize \"llama_index.response_synthesizers.TreeSummarize\")_\\]_) \u2013 Tree summarizer to summarize sub-results.\n    \n\n_class_ llama\\_index.query\\_engine.router\\_query\\_engine.ToolRetrieverRouterQueryEngine(_retriever: ObjectRetriever\\[QueryEngineTool\\]_, _service\\_context: Optional\\[[ServiceContext](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")\\] \\= None_, _summarizer: Optional\\[[TreeSummarize](https://docs.llamaindex.ai/en/stable/api_reference/query/response_synthesizer.html#llama_index.response_synthesizers.TreeSummarize \"llama_index.response_synthesizers.tree_summarize.TreeSummarize\")\\] \\= None_)[\uf0c1](#llama_index.query_engine.router_query_engine.ToolRetrieverRouterQueryEngine \"Permalink to this definition\")\n\nTool Retriever router query engine.\n\nSelects a set of candidate query engines to execute a query.\n\nParameters\n\n*   **retriever** (_ObjectRetriever_) \u2013 A retriever that retrieves a set of query engine tools.\n    \n*   **service\\_context** (_Optional__\\[_[_ServiceContext_](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")_\\]_) \u2013 A service context.\n    \n*   **summarizer** (_Optional__\\[_[_TreeSummarize_](https://docs.llamaindex.ai/en/stable/api_reference/query/response_synthesizer.html#llama_index.response_synthesizers.TreeSummarize \"llama_index.response_synthesizers.TreeSummarize\")_\\]_) \u2013 Tree summarizer to summarize sub-results."
}