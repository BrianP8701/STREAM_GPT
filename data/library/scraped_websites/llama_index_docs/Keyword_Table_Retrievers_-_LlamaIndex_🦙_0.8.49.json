{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/api_reference/query/retrievers/table.html",
        "title": "Keyword Table Retrievers - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## Keyword Table Retrievers[\uf0c1](#module-llama_index.indices.keyword_table.retrievers \"Permalink to this heading\")\n\nQuery for KeywordTableIndex.\n\n_class_ llama\\_index.indices.keyword\\_table.retrievers.BaseKeywordTableRetriever(_index: BaseKeywordTableIndex_, _keyword\\_extract\\_template: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _query\\_keyword\\_extract\\_template: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _max\\_keywords\\_per\\_query: int \\= 10_, _num\\_chunks\\_per\\_query: int \\= 10_, _\\*\\*kwargs: Any_)[\uf0c1](#llama_index.indices.keyword_table.retrievers.BaseKeywordTableRetriever \"Permalink to this definition\")\n\nBase Keyword Table Retriever.\n\nArguments are shared among subclasses.\n\nParameters\n\n*   **keyword\\_extract\\_template** (_Optional__\\[_[_BasePromptTemplate_](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")_\\]_) \u2013 A Keyword Extraction Prompt (see [Prompt Templates](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#prompt-templates)).\n    \n*   **query\\_keyword\\_extract\\_template** (_Optional__\\[_[_BasePromptTemplate_](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")_\\]_) \u2013 A Query Keyword Extraction Prompt (see [Prompt Templates](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#prompt-templates)).\n    \n*   **refine\\_template** (_Optional__\\[_[_BasePromptTemplate_](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")_\\]_) \u2013 A Refinement Prompt (see [Prompt Templates](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#prompt-templates)).\n    \n*   **text\\_qa\\_template** (_Optional__\\[_[_BasePromptTemplate_](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")_\\]_) \u2013 A Question Answering Prompt (see [Prompt Templates](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#prompt-templates)).\n    \n*   **max\\_keywords\\_per\\_query** (_int_) \u2013 Maximum number of keywords to extract from query.\n    \n*   **num\\_chunks\\_per\\_query** (_int_) \u2013 Maximum number of text chunks to query.\n    \n\nget\\_service\\_context() \u2192 Optional\\[[ServiceContext](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")\\][\uf0c1](#llama_index.indices.keyword_table.retrievers.BaseKeywordTableRetriever.get_service_context \"Permalink to this definition\")\n\nAttempts to resolve a service context. Short-circuits at self.service\\_context, self.\\_service\\_context, or self.\\_index.service\\_context.\n\nretrieve(_str\\_or\\_query\\_bundle: Union\\[str, [QueryBundle](https://docs.llamaindex.ai/en/stable/api_reference/query/query_bundle.html#llama_index.indices.query.schema.QueryBundle \"llama_index.indices.query.schema.QueryBundle\")\\]_) \u2192 List\\[[NodeWithScore](https://docs.llamaindex.ai/en/stable/api_reference/node.html#llama_index.schema.NodeWithScore \"llama_index.schema.NodeWithScore\")\\][\uf0c1](#llama_index.indices.keyword_table.retrievers.BaseKeywordTableRetriever.retrieve \"Permalink to this definition\")\n\nRetrieve nodes given query.\n\nParameters\n\n**str\\_or\\_query\\_bundle** (_QueryType_) \u2013 Either a query string or a QueryBundle object.\n\n_class_ llama\\_index.indices.keyword\\_table.retrievers.KeywordTableGPTRetriever(_index: BaseKeywordTableIndex_, _keyword\\_extract\\_template: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _query\\_keyword\\_extract\\_template: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _max\\_keywords\\_per\\_query: int \\= 10_, _num\\_chunks\\_per\\_query: int \\= 10_, _\\*\\*kwargs: Any_)[\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableGPTRetriever \"Permalink to this definition\")\n\nKeyword Table Index GPT Retriever.\n\nExtracts keywords using GPT. Set when using retriever\\_mode=\u201ddefault\u201d.\n\nSee BaseGPTKeywordTableQuery for arguments.\n\nget\\_service\\_context() \u2192 Optional\\[[ServiceContext](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")\\][\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableGPTRetriever.get_service_context \"Permalink to this definition\")\n\nAttempts to resolve a service context. Short-circuits at self.service\\_context, self.\\_service\\_context, or self.\\_index.service\\_context.\n\nretrieve(_str\\_or\\_query\\_bundle: Union\\[str, [QueryBundle](https://docs.llamaindex.ai/en/stable/api_reference/query/query_bundle.html#llama_index.indices.query.schema.QueryBundle \"llama_index.indices.query.schema.QueryBundle\")\\]_) \u2192 List\\[[NodeWithScore](https://docs.llamaindex.ai/en/stable/api_reference/node.html#llama_index.schema.NodeWithScore \"llama_index.schema.NodeWithScore\")\\][\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableGPTRetriever.retrieve \"Permalink to this definition\")\n\nRetrieve nodes given query.\n\nParameters\n\n**str\\_or\\_query\\_bundle** (_QueryType_) \u2013 Either a query string or a QueryBundle object.\n\n_class_ llama\\_index.indices.keyword\\_table.retrievers.KeywordTableRAKERetriever(_index: BaseKeywordTableIndex_, _keyword\\_extract\\_template: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _query\\_keyword\\_extract\\_template: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _max\\_keywords\\_per\\_query: int \\= 10_, _num\\_chunks\\_per\\_query: int \\= 10_, _\\*\\*kwargs: Any_)[\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableRAKERetriever \"Permalink to this definition\")\n\nKeyword Table Index RAKE Retriever.\n\nExtracts keywords using RAKE keyword extractor. Set when retriever\\_mode=\u201drake\u201d.\n\nSee BaseGPTKeywordTableQuery for arguments.\n\nget\\_service\\_context() \u2192 Optional\\[[ServiceContext](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")\\][\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableRAKERetriever.get_service_context \"Permalink to this definition\")\n\nAttempts to resolve a service context. Short-circuits at self.service\\_context, self.\\_service\\_context, or self.\\_index.service\\_context.\n\nretrieve(_str\\_or\\_query\\_bundle: Union\\[str, [QueryBundle](https://docs.llamaindex.ai/en/stable/api_reference/query/query_bundle.html#llama_index.indices.query.schema.QueryBundle \"llama_index.indices.query.schema.QueryBundle\")\\]_) \u2192 List\\[[NodeWithScore](https://docs.llamaindex.ai/en/stable/api_reference/node.html#llama_index.schema.NodeWithScore \"llama_index.schema.NodeWithScore\")\\][\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableRAKERetriever.retrieve \"Permalink to this definition\")\n\nRetrieve nodes given query.\n\nParameters\n\n**str\\_or\\_query\\_bundle** (_QueryType_) \u2013 Either a query string or a QueryBundle object.\n\n_class_ llama\\_index.indices.keyword\\_table.retrievers.KeywordTableSimpleRetriever(_index: BaseKeywordTableIndex_, _keyword\\_extract\\_template: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _query\\_keyword\\_extract\\_template: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _max\\_keywords\\_per\\_query: int \\= 10_, _num\\_chunks\\_per\\_query: int \\= 10_, _\\*\\*kwargs: Any_)[\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableSimpleRetriever \"Permalink to this definition\")\n\nKeyword Table Index Simple Retriever.\n\nExtracts keywords using simple regex-based keyword extractor. Set when retriever\\_mode=\u201dsimple\u201d.\n\nSee BaseGPTKeywordTableQuery for arguments.\n\nget\\_service\\_context() \u2192 Optional\\[[ServiceContext](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")\\][\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableSimpleRetriever.get_service_context \"Permalink to this definition\")\n\nAttempts to resolve a service context. Short-circuits at self.service\\_context, self.\\_service\\_context, or self.\\_index.service\\_context.\n\nretrieve(_str\\_or\\_query\\_bundle: Union\\[str, [QueryBundle](https://docs.llamaindex.ai/en/stable/api_reference/query/query_bundle.html#llama_index.indices.query.schema.QueryBundle \"llama_index.indices.query.schema.QueryBundle\")\\]_) \u2192 List\\[[NodeWithScore](https://docs.llamaindex.ai/en/stable/api_reference/node.html#llama_index.schema.NodeWithScore \"llama_index.schema.NodeWithScore\")\\][\uf0c1](#llama_index.indices.keyword_table.retrievers.KeywordTableSimpleRetriever.retrieve \"Permalink to this definition\")\n\nRetrieve nodes given query.\n\nParameters\n\n**str\\_or\\_query\\_bundle** (_QueryType_) \u2013 Either a query string or a QueryBundle object."
}