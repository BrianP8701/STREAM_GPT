{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/examples/chat_engine/chat_engine_react.html",
        "title": "Chat Engine - ReAct Agent Mode - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\nReAct is an agent based chat mode built on top of a query engine over your data.\n\nFor each chat interaction, the agent enter a ReAct loop:\n\n*   first decide whether to use the query engine tool and come up with appropriate input\n    \n*   (optional) use the query engine tool and observe its output\n    \n*   decide whether to repeat or give final response\n    \n\nThis approach is flexible, since it can flexibility choose between querying the knowledge base or not. However, the performance is also more dependent on the quality of the LLM. You might need to do more coercing to make sure it chooses to query the knowledge base at right times, instead of hallucinating an answer.\n\n## Get started in 5 lines of code[\uf0c1](#get-started-in-5-lines-of-code \"Permalink to this heading\")\n\nLoad data and build index\n\nfrom llama\\_index import VectorStoreIndex, SimpleDirectoryReader, ServiceContext\nfrom llama\\_index.llms import OpenAI, Anthropic\n\nservice\\_context \\= ServiceContext.from\\_defaults(llm\\=OpenAI())\ndata \\= SimpleDirectoryReader(input\\_dir\\=\"../data/paul\\_graham/\").load\\_data()\nindex \\= VectorStoreIndex.from\\_documents(data, service\\_context\\=service\\_context)\n\nConfigure chat engine\n\nchat\\_engine \\= index.as\\_chat\\_engine(chat\\_mode\\=\"react\", verbose\\=True)\n\nChat with your data\n\nresponse \\= chat\\_engine.chat(\n    \"Use the tool to answer what did Paul Graham do in the summer of 1995?\"\n)\n\nThought: I need to use a tool to help me answer the question.\nAction: query\\_engine\\_tool\nAction Input: {'input': 'What did Paul Graham do in the summer of 1995?'}\nObservation: \nIn the summer of 1995, Paul Graham worked on building a web application for making web applications. He recruited Dan Giffin, who had worked for Viaweb, and two undergrads who wanted summer jobs, and they got to work trying to build what it's now clear is about twenty companies and several open source projects worth of software. The language for defining applications would of course be a dialect of Lisp.\nResponse: In the summer of 1995, Paul Graham worked on building a web application for making web applications. He recruited Dan Giffin, who had worked for Viaweb, and two undergrads who wanted summer jobs, and they got to work trying to build what it's now clear is about twenty companies and several open source projects worth of software. The language for defining applications would of course be a dialect of Lisp.\n\nIn the summer of 1995, Paul Graham worked on building a web application for making web applications. He recruited Dan Giffin, who had worked for Viaweb, and two undergrads who wanted summer jobs, and they got to work trying to build what it's now clear is about twenty companies and several open source projects worth of software. The language for defining applications would of course be a dialect of Lisp.\n\n## Customize LLM[\uf0c1](#customize-llm \"Permalink to this heading\")\n\nUse Anthropic (\u201cclaude-2\u201d)\n\nservice\\_context \\= ServiceContext.from\\_defaults(llm\\=Anthropic())\n\nConfigure chat engine\n\nchat\\_engine \\= index.as\\_chat\\_engine(\n    service\\_context\\=service\\_context, chat\\_mode\\=\"react\", verbose\\=True\n)\n\nresponse \\= chat\\_engine.chat(\"what did Paul Graham do in the summer of 1995?\")\n\nThought: I need to use a tool to help me answer the question.\nAction: query\\_engine\\_tool\nAction Input: {'input': 'what did Paul Graham do in the summer of 1995?'}\nObservation:  Based on the context, in the summer of 1995 Paul Graham:\n\n\\- Painted a second still life using the same objects he had used for a previous still life painting.\n\n\\- Looked for an apartment to buy in New York, trying to find a neighborhood similar to Cambridge, MA. \n\n\\- Realized there wasn't really a \"Cambridge of New York\" after visiting the actual Cambridge.\n\nThe passage does not mention what Paul Graham did in the summer of 1995 specifically. It talks about painting a second still life at some point and looking for an apartment in New York at some point, but it does not connect those events to the summer of 1995.\nResponse: The passage does not provide enough information to know specifically what Paul Graham did in the summer of 1995. It mentions some activities like painting and looking for an apartment in New York, but does not say these occurred specifically in the summer of 1995.\n\nThe passage does not provide enough information to know specifically what Paul Graham did in the summer of 1995. It mentions some activities like painting and looking for an apartment in New York, but does not say these occurred specifically in the summer of 1995.\n\nresponse \\= chat\\_engine.chat(\"What did I ask you before?\")\n\nResponse:  You asked me \"what did Paul Graham do in the summer of 1995?\".\n\n You asked me \"what did Paul Graham do in the summer of 1995?\".\n\nReset chat engine\n\nresponse \\= chat\\_engine.chat(\"What did I ask you before?\")\n\nResponse: I'm afraid I don't have any context about previous questions in our conversation. This seems to be the start of a new conversation between us.\n\nI'm afraid I don't have any context about previous questions in our conversation. This seems to be the start of a new conversation between us."
}