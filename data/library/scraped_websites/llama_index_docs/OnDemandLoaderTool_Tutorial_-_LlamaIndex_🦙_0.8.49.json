{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/examples/tools/OnDemandLoaderTool.html",
        "title": "OnDemandLoaderTool Tutorial - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "\\> Entering new AgentExecutor chain...\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Culture in Berlin\"\\],\n    \"query\\_str\": \"What is the arts and culture scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nThe arts and culture scene in Berlin is vibrant and diverse. The city is home to over 600 art galleries, 153 museums, and numerous cultural institutions. It is a world city of culture and creative industries, and is home to many international and regional television and radio stations. Berlin is also home to two major German-language publishing houses, and is an important center of the European and German film industry. The city is also known for its nightlife, with many clubs and festivals, such as the Berlin International Film Festival, the Karneval der Kulturen, and the Christopher Street Day. Berlin is also home to the largest gay fetish festivals in Europe.\nThought:The human may want more specific information about certain aspects of Berlin's arts and culture scene. \n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Culture in Berlin\"\\],\n    \"query\\_str\": \"What are some notable museums in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nSome notable museums in Berlin include the Deutsches Historisches Museum, the Bauhaus Archive, the Jewish Museum, the German Museum of Technology, the Museum f\u00fcr Naturkunde, the Museum of Asian Art, the Ethnological Museum, the Museum of European Cultures, the Allied Museum, the Br\u00fccke Museum, the Stasi Museum, the Beate Uhse Erotic Museum, and the Pergamon Museum.\nThought:The human may also be interested in learning about the music scene in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Music in Berlin\"\\],\n    \"query\\_str\": \"What is the music scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nThe music scene in Berlin is vibrant and diverse. It is home to many nightclubs, including Kunst Haus Tacheles, Cookies, Tresor, WMF, Ufo, E-Werk, KitKatClub and Berghain, which are known for their long parties. It is also home to many concert music institutions, such as the Berlin Philharmonic Orchestra, the Konzerthausorchester Berlin, the Berlin Radio Symphony Orchestra, the Staatskapelle Berlin, and the SO36 in Kreuzberg. The city is also known for its influence on rock music, with bands like U2 recording at Hansa Studios near the Berlin Wall. Additionally, Berlin is home to many creative industries, such as music, film, advertising, architecture, art, design, fashion, performing arts, publishing, TV, radio, and video games. It is also home to many important musical figures, such as Johann Joachim Quantz, Carl Philipp Emanuel Bach, the Graun brothers, Wilhelm Friedemann Bach, Carl Friedrich Christian Fasch, Johann Friedrich Reichardt, Carl Friedrich Zelter, Friedrich Heinrich Himmel, Vincenzo Righini, Felix Mendelssohn Bartholdy, Spontini, Meyerbeer, Richard Strauss, Arnold Schoenberg, Friedrich Wilhelm Marpurg, Johann Philipp Kirnberger, Reichardt, E. T. A. Hoffmann, Ludwig Rellstab, and A. B. Marx. There are also three major opera houses in Berlin: the Deutsche Oper, the Berlin State Opera, and the Komische Oper.\nThought:The human may want to know more about the theater scene in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Theatre in Berlin\"\\],\n    \"query\\_str\": \"What is the theater scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nThe theater scene in Berlin is vibrant and diverse. There are a variety of venues, from traditional theaters to modern cinemas, as well as a range of genres and styles. The Berlin Wintergarten theatre, which opened in 1887 and was destroyed during the Second World War, was the first Bioscop movie theater in history. The theatre was restarted, relocated and the title licensed in 1992, and is now located on Potsdamer Stra\u00dfe just South of Potsdamer Platz in Berlin. There are also many other theaters in the city, including the Berliner Ensemble, the Volksb\u00fchne, and the Schaub\u00fchne.\nThought:The human may want to know more about the street art scene in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Street art in Berlin\"\\],\n    \"query\\_str\": \"What is the street art scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nThe street art scene in Berlin is vibrant and diverse. It has been home to street artists such as Thierry Noir Tavar Zawacki a.k.a. ABOVE and SP 38, and post-communism, cheap rents, and ramshackle buildings have given rise to street art in areas such as Mitte, Prenzlauer Berg, Kreuzberg, and Friedrichshain. In 2016, StreetArtNews initiated an urban artwork in the name of Urban Nation Berlin, in which several famous artists participated. Street art by Bleepsgr, whose work has been categorized as \"artivism\", can be found in neighborhoods such as Psiri.\nThought:The human may want to know more about the film industry in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Cinema of Germany\"\\],\n    \"query\\_str\": \"What is the film industry like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nThe film industry in Berlin is thriving and has a long history. It is home to the Berlin International Film Festival, the Deutsche Filmakademie, and several film schools. Berlin is also home to many prominent personalities in the film industry, such as Dieter Kosslick, director of the Berlin International Film Festival, and Fritz Lang, a renowned director. The city is also home to several production companies, and is a major hub for the German film industry. Berlin is known for its diverse range of films, from silent films to contemporary works, and is a major center for the production of both feature films and television series.\nThought:The human may want to know more about the literature scene in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Literature in Berlin\"\\],\n    \"query\\_str\": \"What is the literature scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nThe literature scene in Berlin is quite diverse and vibrant. There are a variety of literary genres represented in the city, from poetry to prose to children's literature. Berlin is home to a number of literary festivals, book fairs, and other events that celebrate the written word. There are also a number of independent bookstores, libraries, and other literary institutions that promote the reading and writing of literature. Berlin is also home to a number of renowned authors, including Nobel Prize winners G\u00fcnter Grass and Herta M\u00fcller.\nThought:The human may want to know more about the architecture scene in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Architecture in Berlin\"\\],\n    \"query\\_str\": \"What is the architecture scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nBerlin's architecture scene is incredibly diverse and eclectic. The city has been shaped by its history, with each of the governments based in Berlin initiating ambitious construction programs that have left their distinct mark on the city. There are many Plattenbauten in Eastern Berlin, as well as the iconic East Side Gallery, Fernsehturm, Gendarmenmarkt, Museum Island, Unter den Linden, Brandenburg Gate, Potsdamer Platz, Hackescher Markt, Stra\u00dfe des 17. Juni, Kurf\u00fcrstendamm, Schloss Bellevue, and Funkturm Berlin. These landmarks are a mix of classical, modern, and postmodern architecture, and many of them have been restored after suffering damage during World War II.\nThought:The human may want to know more about the fashion scene in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Fashion in Berlin\"\\],\n    \"query\\_str\": \"What is the fashion scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nThe fashion scene in Berlin is vibrant and creative, with many young designers flourishing in the fashion capital. Mercedes-Benz is the main sponsor of the fashion week, which takes place twice a year in January and July. There are a variety of fashion fairs, such as BREAD & BUTTER, Premium Fair, Bright Tradeshow, (capsule), Show&Order, PanoramaBerlin and The Gallery Berlin. The StyleNite by Berlin-based designer Michael Michalsky is a popular event, featuring unusual performances of different art disciplines combined with state-of-the-art fashion. Models of all ages and abilities are featured in the shows, including disabled models and models aged over 60.\nThought:The human may want to know more about the food scene in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Cuisine of Berlin\"\\],\n    \"query\\_str\": \"What is the food scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\nObservation: \nThe food scene in Berlin is very diverse and international. It is home to a wide variety of cuisines, including German, Turkish, Arab, Vietnamese, Chinese, Thai, Indian, Korean, Japanese, Spanish, Italian, and Greek. There are numerous restaurants, pubs, bakeries, and delicatessen markets, as well as fast-food versions of the doner kebab sandwich. Berlin is also well known for its vegetarian and vegan cuisine, innovative food scene, pop-up street food markets, supper clubs, and food festivals. Additionally, there are seven restaurants that have been awarded two Michelin stars and 14 restaurants that have been awarded one Michelin star.\nThought:The human may want to know more about the dance scene in Berlin.\n\nAction:\n\\`\\`\\`\n{\n  \"action\": \"Wikipedia Tool\",\n  \"action\\_input\": {\n    \"pages\": \\[\"Dance in Germany\"\\],\n    \"query\\_str\": \"What is the dance scene like in Berlin?\"\n  }\n}\n\\`\\`\\`\n\n\\---------------------------------------------------------------------------\nDisambiguationError                       Traceback (most recent call last)\nCell In\\[12\\], line 1\n\\----> 1 agent.run(\"Tell me about the arts and culture of Berlin\")\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/langchain/chains/base.py:236, in Chain.run(self, callbacks, \\*args, \\*\\*kwargs)\n    234     if len(args) != 1:\n    235         raise ValueError(\"\\`run\\` supports only one positional argument.\")\n\\--> 236     return self(args\\[0\\], callbacks\\=callbacks)\\[self.output\\_keys\\[0\\]\\]\n    238 if kwargs and not args:\n    239     return self(kwargs, callbacks\\=callbacks)\\[self.output\\_keys\\[0\\]\\]\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/langchain/chains/base.py:140, in Chain.\\_\\_call\\_\\_(self, inputs, return\\_only\\_outputs, callbacks)\n    138 except (KeyboardInterrupt, Exception) as e:\n    139     run\\_manager.on\\_chain\\_error(e)\n\\--> 140     raise e\n    141 run\\_manager.on\\_chain\\_end(outputs)\n    142 return self.prep\\_outputs(inputs, outputs, return\\_only\\_outputs)\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/langchain/chains/base.py:134, in Chain.\\_\\_call\\_\\_(self, inputs, return\\_only\\_outputs, callbacks)\n    128 run\\_manager \\= callback\\_manager.on\\_chain\\_start(\n    129     {\"name\": self.\\_\\_class\\_\\_.\\_\\_name\\_\\_},\n    130     inputs,\n    131 )\n    132 try:\n    133     outputs \\= (\n\\--> 134         self.\\_call(inputs, run\\_manager\\=run\\_manager)\n    135         if new\\_arg\\_supported\n    136         else self.\\_call(inputs)\n    137     )\n    138 except (KeyboardInterrupt, Exception) as e:\n    139     run\\_manager.on\\_chain\\_error(e)\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/langchain/agents/agent.py:951, in AgentExecutor.\\_call(self, inputs, run\\_manager)\n    949 \\# We now enter the agent loop (until it returns something).\n    950 while self.\\_should\\_continue(iterations, time\\_elapsed):\n\\--> 951     next\\_step\\_output \\= self.\\_take\\_next\\_step(\n    952         name\\_to\\_tool\\_map,\n    953         color\\_mapping,\n    954         inputs,\n    955         intermediate\\_steps,\n    956         run\\_manager\\=run\\_manager,\n    957     )\n    958     if isinstance(next\\_step\\_output, AgentFinish):\n    959         return self.\\_return(\n    960             next\\_step\\_output, intermediate\\_steps, run\\_manager\\=run\\_manager\n    961         )\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/langchain/agents/agent.py:818, in AgentExecutor.\\_take\\_next\\_step(self, name\\_to\\_tool\\_map, color\\_mapping, inputs, intermediate\\_steps, run\\_manager)\n    816         tool\\_run\\_kwargs\\[\"llm\\_prefix\"\\] \\= \"\"\n    817     \\# We then call the tool on the tool input to get an observation\n\\--> 818     observation \\= tool.run(\n    819         agent\\_action.tool\\_input,\n    820         verbose\\=self.verbose,\n    821         color\\=color,\n    822         callbacks\\=run\\_manager.get\\_child() if run\\_manager else None,\n    823         \\*\\*tool\\_run\\_kwargs,\n    824     )\n    825 else:\n    826     tool\\_run\\_kwargs \\= self.agent.tool\\_run\\_logging\\_kwargs()\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/langchain/tools/base.py:255, in BaseTool.run(self, tool\\_input, verbose, start\\_color, color, callbacks, \\*\\*kwargs)\n    253 except (Exception, KeyboardInterrupt) as e:\n    254     run\\_manager.on\\_tool\\_error(e)\n\\--> 255     raise e\n    256 run\\_manager.on\\_tool\\_end(str(observation), color\\=color, name\\=self.name, \\*\\*kwargs)\n    257 return observation\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/langchain/tools/base.py:249, in BaseTool.run(self, tool\\_input, verbose, start\\_color, color, callbacks, \\*\\*kwargs)\n    246 try:\n    247     tool\\_args, tool\\_kwargs \\= self.\\_to\\_args\\_and\\_kwargs(parsed\\_input)\n    248     observation \\= (\n\\--> 249         self.\\_run(\\*tool\\_args, run\\_manager\\=run\\_manager, \\*\\*tool\\_kwargs)\n    250         if new\\_arg\\_supported\n    251         else self.\\_run(\\*tool\\_args, \\*\\*tool\\_kwargs)\n    252     )\n    253 except (Exception, KeyboardInterrupt) as e:\n    254     run\\_manager.on\\_tool\\_error(e)\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/langchain/tools/base.py:436, in StructuredTool.\\_run(self, run\\_manager, \\*args, \\*\\*kwargs)\n    427 \"\"\"Use the tool.\"\"\"\n    428 new\\_argument\\_supported \\= signature(self.func).parameters.get(\"callbacks\")\n    429 return (\n    430     self.func(\n    431         \\*args,\n    432         callbacks\\=run\\_manager.get\\_child() if run\\_manager else None,\n    433         \\*\\*kwargs,\n    434     )\n    435     if new\\_argument\\_supported\n\\--> 436     else self.func(\\*args, \\*\\*kwargs)\n    437 )\n\nFile ~/Programming/gpt\\_index/llama\\_index/tools/ondemand\\_loader\\_tool.py:114, in OnDemandLoaderTool.\\_\\_call\\_\\_(self, \\*args, \\*\\*kwargs)\n    112 else:\n    113     query\\_str \\= kwargs.pop(self.\\_query\\_str\\_kwargs\\_key)\n\\--> 114 docs \\= self.\\_reader.load\\_data(\\*args, \\*\\*kwargs)\n    115 index \\= self.\\_index\\_cls.from\\_documents(docs, \\*\\*self.\\_index\\_kwargs)\n    116 \\# TODO: add query kwargs\n\nFile ~/Programming/gpt\\_index/llama\\_index/readers/wikipedia.py:35, in WikipediaReader.load\\_data(self, pages, \\*\\*load\\_kwargs)\n     33 results \\= \\[\\]\n     34 for page in pages:\n\\---> 35     page\\_content \\= wikipedia.page(page, \\*\\*load\\_kwargs).content\n     36     results.append(Document(page\\_content))\n     37 return results\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/wikipedia/wikipedia.py:276, in page(title, pageid, auto\\_suggest, redirect, preload)\n    273     except IndexError:\n    274       \\# if there is no suggestion or search results, the page doesn't exist\n    275       raise PageError(title)\n\\--> 276   return WikipediaPage(title, redirect\\=redirect, preload\\=preload)\n    277 elif pageid is not None:\n    278   return WikipediaPage(pageid\\=pageid, preload\\=preload)\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/wikipedia/wikipedia.py:299, in WikipediaPage.\\_\\_init\\_\\_(self, title, pageid, redirect, preload, original\\_title)\n    296 else:\n    297   raise ValueError(\"Either a title or a pageid must be specified\")\n\\--> 299 self.\\_\\_load(redirect\\=redirect, preload\\=preload)\n    301 if preload:\n    302   for prop in ('content', 'summary', 'images', 'references', 'links', 'sections'):\n\nFile ~/Programming/gpt\\_index/.venv/lib/python3.10/site-packages/wikipedia/wikipedia.py:393, in WikipediaPage.\\_\\_load(self, redirect, preload)\n    390   filtered\\_lis \\= \\[li for li in lis if not 'tocsection' in ''.join(li.get('class', \\[\\]))\\]\n    391   may\\_refer\\_to \\= \\[li.a.get\\_text() for li in filtered\\_lis if li.a\\]\n\\--> 393   raise DisambiguationError(getattr(self, 'title', page\\['title'\\]), may\\_refer\\_to)\n    395 else:\n    396   self.pageid \\= pageid\n\nDisambiguationError: \"Dance, Dance, Dance\" may refer to: \n\"Dance, Dance, Dance\" (The Beach Boys song)\n\"Dance, Dance, Dance\" (Neil Young song)\n\"Dance, Dance, Dance\" (Yowsah, Yowsah, Yowsah)\n\"Dance Dance Dance\" (James Cottriall song)\n\"Dance Dance Dance\" (E\\-girls song)\nDance Dance Dance/My Lady\nsoundtrack\nWhy Do You Have to Go/Dance, Dance, Dance\nYouth Novels\nFly Like an Eagle\nDance Dance Dance (German TV series)\nDance Dance Dance (British TV series)\nDance Dance Dance (novel)\nDance, Dance, Dance: The Best of Chic\nDance, Dance (disambiguation)"
}