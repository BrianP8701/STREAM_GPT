{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/api_reference/query/query_engines/pandas_query_engine.html",
        "title": "Pandas Query Engine - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## Pandas Query Engine[\uf0c1](#module-llama_index.query_engine.pandas_query_engine \"Permalink to this heading\")\n\nDefault query for PandasIndex.\n\nWARNING: This tool provides the Agent access to the eval function. Arbitrary code execution is possible on the machine running this tool. This tool is not recommended to be used in a production setting, and would require heavy sandboxing or virtual machines\n\nllama\\_index.query\\_engine.pandas\\_query\\_engine.GPTNLPandasQueryEngine[\uf0c1](#llama_index.query_engine.pandas_query_engine.GPTNLPandasQueryEngine \"Permalink to this definition\")\n\nalias of [`PandasQueryEngine`](#llama_index.query_engine.pandas_query_engine.PandasQueryEngine \"llama_index.query_engine.pandas_query_engine.PandasQueryEngine\")\n\nllama\\_index.query\\_engine.pandas\\_query\\_engine.NLPandasQueryEngine[\uf0c1](#llama_index.query_engine.pandas_query_engine.NLPandasQueryEngine \"Permalink to this definition\")\n\nalias of [`PandasQueryEngine`](#llama_index.query_engine.pandas_query_engine.PandasQueryEngine \"llama_index.query_engine.pandas_query_engine.PandasQueryEngine\")\n\n_class_ llama\\_index.query\\_engine.pandas\\_query\\_engine.PandasQueryEngine(_df: DataFrame_, _instruction\\_str: Optional\\[str\\] \\= None_, _output\\_processor: Optional\\[Callable\\] \\= None_, _pandas\\_prompt: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _output\\_kwargs: Optional\\[dict\\] \\= None_, _head: int \\= 5_, _verbose: bool \\= False_, _service\\_context: Optional\\[[ServiceContext](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")\\] \\= None_, _\\*\\*kwargs: Any_)[\uf0c1](#llama_index.query_engine.pandas_query_engine.PandasQueryEngine \"Permalink to this definition\")\n\nGPT Pandas query.\n\nConvert natural language to Pandas python code.\n\nWARNING: This tool provides the Agent access to the eval function. Arbitrary code execution is possible on the machine running this tool. This tool is not recommended to be used in a production setting, and would require heavy sandboxing or virtual machines\n\nParameters\n\n*   **df** (_pd.DataFrame_) \u2013 Pandas dataframe to use.\n    \n*   **instruction\\_str** (_Optional__\\[__str__\\]_) \u2013 Instruction string to use.\n    \n*   **output\\_processor** (_Optional__\\[__Callable__\\[__\\[__str__\\]__,_ _str__\\]__\\]_) \u2013 Output processor. A callable that takes in the output string, pandas DataFrame, and any output kwargs and returns a string. eg.kwargs\\[\u201cmax\\_colwidth\u201d\\] = \\[int\\] is used to set the length of text that each column can display during str(df). Set it to a higher number if there is possibly long text in the dataframe.\n    \n*   **pandas\\_prompt** (_Optional__\\[_[_BasePromptTemplate_](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")_\\]_) \u2013 Pandas prompt to use.\n    \n*   **head** (_int_) \u2013 Number of rows to show in the table context.\n    \n\nllama\\_index.query\\_engine.pandas\\_query\\_engine.default\\_output\\_processor(_output: str_, _df: DataFrame_, _\\*\\*output\\_kwargs: Any_) \u2192 str[\uf0c1](#llama_index.query_engine.pandas_query_engine.default_output_processor \"Permalink to this definition\")\n\nProcess outputs in a default manner."
}