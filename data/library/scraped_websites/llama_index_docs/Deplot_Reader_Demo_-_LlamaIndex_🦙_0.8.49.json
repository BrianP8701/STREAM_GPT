{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/examples/data_connectors/deplot/DeplotReader.html",
        "title": "Deplot Reader Demo - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## Deplot Reader Demo[\uf0c1](#deplot-reader-demo \"Permalink to this heading\")\n\nIn this notebook we showcase the capabilities of our ImageTabularChartReader, which is powered by the DePlot model https://arxiv.org/abs/2212.10505.\n\nfrom llama\\_hub.file.image\\_deplot.base import ImageTabularChartReader\nfrom llama\\_index import SummaryIndex\nfrom llama\\_index.response.notebook\\_utils import display\\_response\nfrom pathlib import Path\n\nloader \\= ImageTabularChartReader(keep\\_image\\=True)\n\n## Load Protected Waters Chart[\uf0c1](#load-protected-waters-chart \"Permalink to this heading\")\n\nThis chart shows the percentage of marine territorial waters that are protected for each country.\n\ndocuments \\= loader.load\\_data(file\\=Path(\"./marine\\_chart.png\"))\n\nFigure or chart with tabular data: Country | Share of marine territorial waters that are protected, 2016 <0x0A> Greenland | 4.52 <0x0A> Mauritania | 4.15 <0x0A> Indonesia | 2.88 <0x0A> Ireland | 2.33\n\nsummary\\_index \\= SummaryIndex.from\\_documents(documents)\nresponse \\= summary\\_index.as\\_query\\_engine().query(\n    \"What is the difference between the shares of Greenland and the share of\"\n    \" Mauritania?\"\n)\n\nRetrying langchain.llms.openai.completion\\_with\\_retry.<locals>.\\_completion\\_with\\_retry in 4.0 seconds as it raised APIConnectionError: Error communicating with OpenAI: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response')).\n\ndisplay\\_response(response, show\\_source\\=True)\n\n## Load Pew Research Chart[\uf0c1](#load-pew-research-chart \"Permalink to this heading\")\n\nHere we load in a Pew Research chart showing international views of the US/Biden.\n\nSource: https://www.pewresearch.org/global/2023/06/27/international-views-of-biden-and-u-s-largely-positive/\n\ndocuments \\= loader.load\\_data(file\\=Path(\"./pew1.png\"))\n\nFigure or chart with tabular data: Entity | Values <0x0A> Does not | 50.0 <0x0A> % who say the U.S take into account the interests of countries like theirs | 49.0 <0x0A> Does not | 38.0 <0x0A> % who say the U.S contribute to peace and stability around the world | 61.0 <0x0A> Does not | 15.0 <0x0A> % who say the U.S interfere in the affairs of other countries | 15.0 <0x0A>% who have confidence | 54.0 <0x0A> Views of President Biden | 30.0 <0x0A> Favorable | 59.0 <0x0A> Views of the U.S. | 9.0\n\nsummary\\_index \\= SummaryIndex.from\\_documents(documents)\nresponse \\= summary\\_index.as\\_query\\_engine().query(\n    \"What percentage says that the US contributes to peace and stability?\"\n)\n\ndisplay\\_response(response, show\\_source\\=True)"
}