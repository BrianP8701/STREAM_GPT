{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/api_reference/query/query_engines/sql_join_query_engine.html",
        "title": "SQL Join Query Engine - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## SQL Join Query Engine[\uf0c1](#module-llama_index.query_engine.sql_join_query_engine \"Permalink to this heading\")\n\nSQL Join query engine.\n\n_class_ llama\\_index.query\\_engine.sql\\_join\\_query\\_engine.SQLAugmentQueryTransform(_llm\\_predictor: Optional\\[BaseLLMPredictor\\] \\= None_, _sql\\_augment\\_transform\\_prompt: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _check\\_stop\\_parser: Optional\\[Callable\\[\\[[QueryBundle](https://docs.llamaindex.ai/en/stable/api_reference/query/query_bundle.html#llama_index.indices.query.schema.QueryBundle \"llama_index.indices.query.schema.QueryBundle\")\\], bool\\]\\] \\= None_)[\uf0c1](#llama_index.query_engine.sql_join_query_engine.SQLAugmentQueryTransform \"Permalink to this definition\")\n\nSQL Augment Query Transform.\n\nThis query transform will transform the query into a more specific query after augmenting with SQL results.\n\nParameters\n\n*   **llm\\_predictor** ([_LLMPredictor_](https://docs.llamaindex.ai/en/stable/api_reference/llm_predictor.html#llama_index.llm_predictor.LLMPredictor \"llama_index.llm_predictor.LLMPredictor\")) \u2013 LLM predictor to use for query transformation.\n    \n*   **sql\\_augment\\_transform\\_prompt** ([_BasePromptTemplate_](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")) \u2013 PromptTemplate to use for query transformation.\n    \n*   **check\\_stop\\_parser** (_Optional__\\[__Callable__\\[__\\[__str__\\]__,_ _bool__\\]__\\]_) \u2013 Check stop function.\n    \n\ncheck\\_stop(_query\\_bundle: [QueryBundle](https://docs.llamaindex.ai/en/stable/api_reference/query/query_bundle.html#llama_index.indices.query.schema.QueryBundle \"llama_index.indices.query.schema.QueryBundle\")_) \u2192 bool[\uf0c1](#llama_index.query_engine.sql_join_query_engine.SQLAugmentQueryTransform.check_stop \"Permalink to this definition\")\n\nCheck if query indicates stop.\n\nrun(_query\\_bundle\\_or\\_str: Union\\[str, [QueryBundle](https://docs.llamaindex.ai/en/stable/api_reference/query/query_bundle.html#llama_index.indices.query.schema.QueryBundle \"llama_index.indices.query.schema.QueryBundle\")\\]_, _metadata: Optional\\[Dict\\] \\= None_) \u2192 [QueryBundle](https://docs.llamaindex.ai/en/stable/api_reference/query/query_bundle.html#llama_index.indices.query.schema.QueryBundle \"llama_index.indices.query.schema.QueryBundle\")[\uf0c1](#llama_index.query_engine.sql_join_query_engine.SQLAugmentQueryTransform.run \"Permalink to this definition\")\n\nRun query transform.\n\n_class_ llama\\_index.query\\_engine.sql\\_join\\_query\\_engine.SQLJoinQueryEngine(_sql\\_query\\_tool: QueryEngineTool_, _other\\_query\\_tool: QueryEngineTool_, _selector: Optional\\[Union\\[LLMSingleSelector, PydanticSingleSelector\\]\\] \\= None_, _service\\_context: Optional\\[[ServiceContext](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")\\] \\= None_, _sql\\_join\\_synthesis\\_prompt: Optional\\[[BasePromptTemplate](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")\\] \\= None_, _sql\\_augment\\_query\\_transform: Optional\\[[SQLAugmentQueryTransform](#llama_index.query_engine.sql_join_query_engine.SQLAugmentQueryTransform \"llama_index.query_engine.sql_join_query_engine.SQLAugmentQueryTransform\")\\] \\= None_, _use\\_sql\\_join\\_synthesis: bool \\= True_, _callback\\_manager: Optional\\[[CallbackManager](https://docs.llamaindex.ai/en/stable/api_reference/callbacks.html#llama_index.callbacks.CallbackManager \"llama_index.callbacks.base.CallbackManager\")\\] \\= None_, _verbose: bool \\= True_)[\uf0c1](#llama_index.query_engine.sql_join_query_engine.SQLJoinQueryEngine \"Permalink to this definition\")\n\nSQL Join Query Engine.\n\nThis query engine can \u201cJoin\u201d a SQL database results with another query engine. It can decide it needs to query the SQL database or the other query engine. If it decides to query the SQL database, it will first query the SQL database, whether to augment information with retrieved results from the other query engine.\n\nParameters\n\n*   **sql\\_query\\_tool** (_QueryEngineTool_) \u2013 Query engine tool for SQL database. other\\_query\\_tool (QueryEngineTool): Other query engine tool.\n    \n*   **selector** (_Optional__\\[__Union__\\[__LLMSingleSelector__,_ _PydanticSingleSelector__\\]__\\]_) \u2013 Selector to use.\n    \n*   **service\\_context** (_Optional__\\[_[_ServiceContext_](https://docs.llamaindex.ai/en/stable/api_reference/service_context.html#llama_index.indices.service_context.ServiceContext \"llama_index.indices.service_context.ServiceContext\")_\\]_) \u2013 Service context to use.\n    \n*   **sql\\_join\\_synthesis\\_prompt** (_Optional__\\[_[_BasePromptTemplate_](https://docs.llamaindex.ai/en/stable/api_reference/prompts.html#llama_index.prompts.base.BasePromptTemplate \"llama_index.prompts.base.BasePromptTemplate\")_\\]_) \u2013 PromptTemplate to use for SQL join synthesis.\n    \n*   **sql\\_augment\\_query\\_transform** (_Optional__\\[_[_SQLAugmentQueryTransform_](#llama_index.query_engine.sql_join_query_engine.SQLAugmentQueryTransform \"llama_index.query_engine.sql_join_query_engine.SQLAugmentQueryTransform\")_\\]_) \u2013 Query transform to use for SQL augmentation.\n    \n*   **use\\_sql\\_join\\_synthesis** (_bool_) \u2013 Whether to use SQL join synthesis.\n    \n*   **callback\\_manager** (_Optional__\\[_[_CallbackManager_](https://docs.llamaindex.ai/en/stable/api_reference/callbacks.html#llama_index.callbacks.CallbackManager \"llama_index.callbacks.CallbackManager\")_\\]_) \u2013 Callback manager to use.\n    \n*   **verbose** (_bool_) \u2013 Whether to print intermediate results."
}