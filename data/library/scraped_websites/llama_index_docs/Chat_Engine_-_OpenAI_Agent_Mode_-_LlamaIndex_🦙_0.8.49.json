{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/examples/chat_engine/chat_engine_openai.html",
        "title": "Chat Engine - OpenAI Agent Mode - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## Get started in 5 lines of code[\uf0c1](#get-started-in-5-lines-of-code \"Permalink to this heading\")\n\nLoad data and build index\n\nfrom llama\\_index import VectorStoreIndex, SimpleDirectoryReader, ServiceContext\nfrom llama\\_index.llms import OpenAI\n\n\\# Necessary to use the latest OpenAI models that support function calling API\nservice\\_context \\= ServiceContext.from\\_defaults(\n    llm\\=OpenAI(model\\=\"gpt-3.5-turbo-0613\")\n)\ndata \\= SimpleDirectoryReader(input\\_dir\\=\"../data/paul\\_graham/\").load\\_data()\nindex \\= VectorStoreIndex.from\\_documents(data, service\\_context\\=service\\_context)\n\nConfigure chat engine\n\nchat\\_engine \\= index.as\\_chat\\_engine(chat\\_mode\\=\"openai\", verbose\\=True)\n\nChat with your data\n\nresponse \\= chat\\_engine.chat(\"Hi\")\nprint(response)\n\nHello! How can I assist you today?\n\nresponse \\= chat\\_engine.chat(\n    \"Use the tool to answer: Who did Paul Graham hand over YC to?\"\n)\nprint(response)\n\n\\=== Calling Function ===\nCalling function: query\\_engine\\_tool with args: {\n  \"input\": \"Who did Paul Graham hand over YC to?\"\n}\nGot output: Paul Graham handed over YC to Sam Altman.\n========================\nPaul Graham handed over Y Combinator (YC) to Sam Altman.\n\n## Force chat engine to query the index[\uf0c1](#force-chat-engine-to-query-the-index \"Permalink to this heading\")\n\nNOTE: this is a feature unique to the \u201copenai\u201d chat mode (which uses the `OpenAIAgent` under the hood).\n\nresponse \\= chat\\_engine.chat(\n    \"What did Paul Graham do growing up?\", function\\_call\\=\"query\\_engine\\_tool\"\n)\n\n\\=== Calling Function ===\nCalling function: query\\_engine\\_tool with args: {\n  \"input\": \"What did Paul Graham do growing up?\"\n}\nGot output: Growing up, Paul Graham worked on writing and programming. He wrote short stories and tried programming on the IBM 1401 computer in his school's basement. He later got a microcomputer and started programming games and a word processor. He initially planned to study philosophy in college but switched to AI. He also started publishing essays online, which became a significant focus for him.\n========================\n\nGrowing up, Paul Graham had a passion for writing and programming. He wrote short stories and explored programming on the IBM 1401 computer in his school's basement. He later acquired a microcomputer and began programming games and a word processor. While initially intending to study philosophy in college, he ultimately changed his focus to artificial intelligence (AI). Additionally, he started publishing essays online, which became a significant part of his pursuits."
}