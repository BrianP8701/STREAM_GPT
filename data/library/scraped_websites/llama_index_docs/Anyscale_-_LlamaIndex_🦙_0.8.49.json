{
    "metadata": {
        "type": "web",
        "url": "https://docs.llamaindex.ai/en/stable/examples/llm/anyscale.html",
        "title": "Anyscale - LlamaIndex \ud83e\udd99 0.8.49",
        "description": null
    },
    "text": "[Back to top](#)\n\nToggle table of contents sidebar\n\n## Anyscale[\uf0c1](#anyscale \"Permalink to this heading\")\n\nfrom llama\\_index.llms import Anyscale\nfrom llama\\_index.llms.base import ChatMessage\n\n## Call `chat` with ChatMessage List[\uf0c1](#call-chat-with-chatmessage-list \"Permalink to this heading\")\n\nYou need to either set env var `ANYSCALE_API_KEY` or set api\\_key in the class constructor\n\n\\# import os\n\\# os.environ\\['ANYSCALE\\_API\\_KEY'\\] = '<your-api-key>'\n\nllm \\= Anyscale(api\\_key\\=\"<your-api-key>\")\n\nmessage \\= ChatMessage(role\\=\"user\", content\\=\"Tell me a joke\")\nresp \\= llm.chat(\\[message\\])\nprint(resp)\n\nassistant: Sure, here's a joke for you:\n\nWhy couldn't the bicycle stand up by itself?\n\nBecause it was two-tired!\n\nI hope that brought a smile to your face! Is there anything else I can assist you with?\n\n### Streaming[\uf0c1](#streaming \"Permalink to this heading\")\n\nmessage \\= ChatMessage(role\\=\"user\", content\\=\"Tell me a story in 250 words\")\nresp \\= llm.stream\\_chat(\\[message\\])\nfor r in resp:\n    print(r.delta, end\\=\"\")\n\nOnce upon a time, there was a young girl named Maria who lived in a small village surrounded by lush green forests. Maria was a kind and gentle soul, loved by everyone in the village. She spent most of her days exploring the forests, discovering new species of plants and animals, and helping the villagers with their daily chores.\n\nOne day, while Maria was out on a walk, she stumbled upon a hidden path she had never seen before. The path was overgrown with weeds and vines, but something about it called to her. She decided to follow it, and it led her deeper and deeper into the forest.\n\nAs she walked, the trees grew taller and the air grew colder. Maria began to feel a sense of unease, but she was determined to see where the path led. Finally, she came to a clearing, and in the center of it stood an enormous tree, its trunk as wide as a house.\n\nMaria approached the tree and saw that it was covered in strange symbols. She reached out to touch one of the symbols, and suddenly, the tree began to glow. The glow grew brighter and brighter, until Maria\n\n## Call `complete` with Prompt[\uf0c1](#call-complete-with-prompt \"Permalink to this heading\")\n\nresp \\= llm.complete(\"Tell me a joke\")\nprint(resp)\n\nSure, here's a joke for you:\n\nWhy couldn't the bicycle stand up by itself?\n\nBecause it was two-tired!\n\nI hope that brought a smile to your face!\n\nresp \\= llm.stream\\_complete(\"Tell me a story in 250 words\")\nfor r in resp:\n    print(r.delta, end\\=\"\")\n\nOnce upon a time, there was a young girl named Maria. She lived in a small village surrounded by lush green forests and sparkling rivers. Maria was a kind and gentle soul, loved by everyone in the village. She spent her days helping her parents with their farm work and exploring the surrounding nature.\n\nOne day, while wandering in the forest, Maria stumbled upon a hidden path she had never seen before. She decided to follow it, and it led her to a beautiful meadow filled with wildflowers. In the center of the meadow, she found a small pond, where she saw her own reflection in the water.\n\nAs she gazed into the pond, Maria saw a figure approaching her. It was a wise old woman, who introduced herself as the guardian of the meadow. The old woman told Maria that she had been chosen to receive a special gift, one that would bring her great joy and happiness.\n\nThe old woman then presented Maria with a small, delicate flower. She told her that this flower had the power to heal any wound, both physical and emotional. Maria was amazed and grateful, and she promised to use the flower wisely.\n\n## Model Configuration[\uf0c1](#model-configuration \"Permalink to this heading\")\n\nllm \\= Anyscale(model\\=\"codellama/CodeLlama-34b-Instruct-hf\")\n\nresp \\= llm.complete(\"Show me the c++ code to send requests to HTTP Server\")\nprint(resp)\n\nTo send requests to an HTTP server in C++, you can use the \\`curl\\` library. Here's an example of how to use it:\n\\`\\`\\`\n#include <curl/curl.h>\n\nint main() {\n    CURL \\*curl;\n    CURLcode res;\n    curl = curl\\_easy\\_init();\n    if (curl) {\n        curl\\_easy\\_setopt(curl, CURLOPT\\_URL, \"http://example.com\");\n        curl\\_easy\\_setopt(curl, CURLOPT\\_POSTFIELDS, \"name=John&age=25\");\n        res = curl\\_easy\\_perform(curl);\n        if (res != CURLE\\_OK) {\n            fprintf(stderr, \"curl\\_easy\\_perform() failed: %s\\\\n\", curl\\_easy\\_strerror(res));\n        }\n        curl\\_easy\\_cleanup(curl);\n    }\n    return 0;\n}\n\\`\\`\\`\nThis code initializes the \\`curl\\` library, sets the URL and POST fields, performs the request, and cleans up the resources.\n\nYou can also use the \\`libcurl\\` library"
}